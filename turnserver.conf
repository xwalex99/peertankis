# ===========================================
# CONFIGURACIÓN TURN SERVER - TANKIS
# ===========================================

# Puertos de escucha
listening-port=3478
tls-listening-port=5349

# Realm (usar tu dominio público)
# IMPORTANTE: Debe ser el mismo dominio que usa PeerJS
# NOTA: Este archivo es una plantilla. El script start.sh genera la configuración
# real desde las variables de entorno TURN_REALM, TURN_USER, TURN_PASSWORD
realm=peertankis-1093381928939.europe-southwest1.run.app

# Usuario y contraseña para TURN
# Formato: usuario:contraseña
# Estos valores deben coincidir con los del frontend
user=tankis-turn:tankis-turn-secret

# ===========================================
# SEGURIDAD
# ===========================================

# Habilitar autenticación
lt-cred-mech

# Fingerprint (mejora compatibilidad)
fingerprint

# ===========================================
# RED Y RENDIMIENTO
# ===========================================

# IP externa del servidor (si tienes múltiples IPs)
# external-ip=TU_IP_PUBLICA

# Rango de puertos para relay (importante para firewall)
min-port=49152
max-port=65535

# Límites de ancho de banda (ajustar según tu servidor)
max-bps=1000000
max-users=1000

# Tiempo de vida de las sesiones
stale-nonce=600

# ===========================================
# LOGS
# ===========================================

# Archivo de log
log-file=/var/log/turn.log

# Nivel de verbosidad (0-9, 9 es muy detallado)
verbose

# No mostrar logs en stdout (útil para systemd)
no-stdout-log

# ===========================================
# OPCIONES ADICIONALES
# ===========================================

# No usar CLI (interfaz de línea de comandos)
no-cli

# Habilitar IPv4
listening-ip=0.0.0.0

# Habilitar IPv6 (opcional)
# listening-ipv6=::

# TLS/SSL (opcional, si tienes certificados)
# cert=/etc/letsencrypt/live/peertankis-1093381928939.europe-southwest1.run.app/fullchain.pem
# pkey=/etc/letsencrypt/live/peertankis-1093381928939.europe-southwest1.run.app/privkey.pem

